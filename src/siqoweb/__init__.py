#==============================================================================
#  SIQO Web server: Initialization of the Server
#------------------------------------------------------------------------------
import os

#==============================================================================
# Setting the environment
#------------------------------------------------------------------------------

#==============================================================================
from   siqolib.journal          import SiqoJournal

import siqoweb.app_routes       as app_routes
import siqoweb.app_views        as app_views

#==============================================================================
# package's constants & private vars
#------------------------------------------------------------------------------
_VER      = '1.03'
_CWD      = os.getcwd()

print()

#==============================================================================
# package's variables
#------------------------------------------------------------------------------
journal = SiqoJournal('siqoweb', debug=7)

app_routes.journal = journal
app_views. journal = journal

#==============================================================================
# Get an Flask Application Object
#------------------------------------------------------------------------------
app, login  = app_routes.getApp()

#==============================================================================
# Main
#------------------------------------------------------------------------------
if __name__ =='__main__':
    
    journal.M('Init start')
    
    app.run(host='localhost', port=8082, debug=True, use_reloader=False)
    
    journal.M('Init end')
    
#==============================================================================
print(f"siqoweb.__init__ {_VER} at {_CWD}")
#                              END OF FILE
#------------------------------------------------------------------------------
